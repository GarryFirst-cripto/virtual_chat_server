(this["webpackJsonpreact-02"]=this["webpackJsonpreact-02"]||[]).push([[0],{229:function(e,t,a){},239:function(e,t,a){},254:function(e,t,a){},345:function(e,t,a){},373:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){e.exports={profInput:"styles_profInput__1frDY",profPass:"styles_profPass__9zHp3",profButton:"styles_profButton__266uH"}},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);a(228),a(229);var n,r=a(0),c=a.n(r),u=a(31),s=a.n(u),o=a(25),i=a(110),l=a(82),A=(a(238),a(70)),p=a(71),m=a(81),d=a(74),f=a(73),b=(a(239),"Ok");function v(e){var t=e.isShowing,a=e.hide,n=e.caps,r=e.mode;if(!0===t){var u,o=[];return r?(o.push(c.a.createElement("button",{id:"keyModal",type:"button",className:"modal-button",onClick:a},b)),o.push(c.a.createElement("button",{id:"keyModal",type:"button",className:"modal-button",onClick:a},"Cancel")),u="data:image/x-icon;base64,AAABAAEAICAEAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAB3AAAAAAAAAAAAAAAAAAAHdwAAAAAAAAAAAAAAAAAAAHcAAAAAAAAAAAAAAAAAAPB3AAAAAAAAAAAAAAAAAA/wdwAAAAAAAAAAAAAAAHD/8HcAAAAAAAAAAAAAB3dw//B3d3AAAAAAAAAAB3cACP/wd3d3cAAAAAAAAHAAj///+AAHd3cAAAAAAAAI////////gAd3cAAAAAAI//////////+Ad3cAAAAA/////////////wd3cAAAD/////+MyP/////wd3cAB///////zMz//////wd3AHj//////8zM//////+Ad3B///////+MyP//////8Hd3j/////////////////gHd/////////zP////////B3f////////8yP///////wd3/////////Mz///////8Hd/////////jMz///////B3f/////+MyPzMz//////wcHj/////zMz4zMz/////gHAH/////8zM/8zM/////wcAB4/////M///MzP////gAAAB/////jI/8zMj////wAAAAB/////jMzMyP////AAAAAAB/////////////8AAAAAAAB4//////////+HAAAAAAAAB3j///////+HcAAAAAAAAAAHd4////h3cAAAAAAAAAAAAAB3d3d3AAAAAAAAD//+f////H////h////wf///4H///4B///wAD//wAAP/4AAB/8AAAP+AAAB/AAAAPgAAABwAAAAYAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAYAAAAOAAAAHwAAAD+AAAB/wAAA/+AAAf/wAAP//AAP//+Af/w=="):(o.push(c.a.createElement("button",{id:"keyModal",type:"button",className:"modal-button",onClick:a,onKeyUp:a},b)),u="data:image/x-icon;base64,AAABAAEAICAEAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAHd3d3d3d3d3d3d3d3AAAAd3d3d3d3d3d3d3d3d3AAMAAAAAAAAAAAAAAAB3d3A7u7u7u7u7u7u7u7u4B3dzu7u7u7u7u7u7u7u7u4B3c7u7u7u7u7u7u7u7u7uwd3O7u7u7u7uACLu7u7u7sHcDu7u7u7u7AAC7u7u7u4B3ADu7u7u7uwAAu7u7u7sHcAA7u7u7u7uACLu7u7u4B3AAA7u7u7u7u7u7u7u7sHcAAAO7u7u7u7C7u7u7u4B3AAAAO7u7u7uAi7u7u7sHcAAAADu7u7u7MDu7u7u4B3AAAAADu7u7uwALu7u7sHcAAAAAA7u7u7gACLu7u4B3AAAAAAA7u7uzAAO7u7sHcAAAAAAAO7u7sAAAu7u4B3AAAAAAAAO7u7AAALu7sHcAAAAAAAADu7uwAAC7u4B3AAAAAAAAADu7sAAAu7sHcAAAAAAAAAA7u7AAALu4B3AAAAAAAAAAA7u4AAi7sHcAAAAAAAAAAAO7u7u7u4B3AAAAAAAAAAAAO7u7u7sHcAAAAAAAAAAAADu7u7u4B3AAAAAAAAAAAAADu7u7sHcAAAAAAAAAAAAAA7u7u4B3AAAAAAAAAAAAAAA7u7sHcAAAAAAAAAAAAAAAO7u4BwAAAAAAAAAAAAAAAAO7gAAAAAAAAAAAAAAAAAAAMzAAAAAAAAAAD4AAAD8AAAAcAAAACAAAAAAAAAAAAAAAAAAAABAAAAAYAAAAOAAAADwAAAB8AAAAfgAAAP4AAAD/AAAB/wAAAf+AAAP/gAAD/8AAB//AAAf/4AAP/+AAD//wAB//8AAf//gAP//4AD///AB///wAf//+AP///gH///8H////j//w=="),s.a.createPortal(c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"modal-overlay"}),c.a.createElement("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog"},c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("img",{src:u,type:"image/x-icon",alt:"Icon",className:"modal-img"}),c.a.createElement("div",{className:"modal-label"},n)),c.a.createElement("div",{className:"modal-footer"},o)))),document.body)}return null}var E=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(A.a)(this,a),(r=t.call(this,e)).caption="",r.doHide=r.doHide.bind(Object(m.a)(r)),r.doShow=r.doShow.bind(Object(m.a)(r)),n=r.doShow,r.state={showing:!1},r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress,!0)}},{key:"handleKeyPress",value:function(e){e.stopImmediatePropagation(),this.logick=!0}},{key:"doShow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.caption=e,this.mode=t,this.callback=a,this.setState({showing:!0})}},{key:"doHide",value:function(e){this.caption="",this.state.showing=!1,this.setState({showing:!1}),this.callback&&this.callback(e.currentTarget.innerText)}},{key:"render",value:function(){var e=this.state.showing;return c.a.createElement(v,{isShowing:e,hide:this.doHide,caps:this.caption,mode:this.mode})}}]),a}(c.a.Component);function h(e,t,a){n(e,t,a),setTimeout((function(){return document.getElementById("keyModal").focus()}),1060)}var g=a(27),w=a(51),x=a(151),O=a(215),j=a(35),y=a(4),k=a.n(y),S=a(14),C=String.fromCharCode(10),T="userName",N="currentUser",P=function(){try{return sessionStorage.getItem(T)}catch(e){return""}},B=function(e){try{sessionStorage.setItem(T,e)}catch(t){}},I=function(){try{var e=sessionStorage.getItem(N);return e?JSON.parse(e):null}catch(t){return null}},D=function(e){try{var t=JSON.stringify(e);sessionStorage.setItem(N,t)}catch(a){}},U=function(e){l.b.error(e,{autoClose:5e3,hideProgressBar:!0})},z=a(26),_=a(199);function L(e){return e.endpoint+(e.query?"?".concat(_.stringify(e.query)):"")}function H(e){var t={};e.attachment||(t["Content-Type"]="application/json",t.Accept="application/json");var a,n=localStorage.getItem("token");if(n&&!e.skipAuthorization&&(t.Authorization="Bearer ".concat(n)),e.attachment){if("GET"===e.type)throw new Error("GET request does not support attachments.");var r=new FormData;r.append("image",e.attachment),a=r}else if(e.request){if("GET"===e.type)throw new Error("GET request does not support request body.");a=JSON.stringify(e.request)}return Object(g.a)({method:e.type,headers:t,signal:e.ct},"GET"===e.request?{}:{body:a})}function R(e){return M.apply(this,arguments)}function M(){return(M=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=12;break}return a="Something went wrong with request!",e.prev=2,e.next=5,t.json();case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),U(e.t0);case 11:throw a;case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function G(e){return W.apply(this,arguments)}function W(){return(W=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L(t),H(t));case 2:return a=e.sent,e.next=5,R(a);case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(){var e=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/users/login",type:"POST",request:t});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/users/",type:"POST",request:t});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(z.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/users/",type:"GET"});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(z.a)(k.a.mark((function e(t,a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/users/".concat(t),type:"PUT",request:a});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/users/".concat(t),type:"GET"});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/users/".concat(t),type:"DELETE"});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(z.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/posts/",type:"GET"});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/posts/",type:"POST",request:t});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/posts/".concat(t),type:"GET"});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/posts/",type:"PUT",request:t});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/posts/".concat(t),type:"DELETE"});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/posts/reaction",type:"POST",request:t});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ae="LOAD_START_DATA",ne="EDIT_POST_POST",re="WRITE_POST_LIKE",ce="WRITE_POST_DISLIKE",ue="SET_USER_LIST",se="SET_LOAD_FINISH",oe="SET_USER_LOGIN",ie="SET_USER_LOGOUT",le="SET_USER_TO_EDIT",Ae="SET_USER_STATISTIC",pe="SET_POSTS_COLLECTION",me="SET_POSTS_TO_EDIT",de=k.a.mark(De),fe=k.a.mark(Ue),be=k.a.mark(ze),ve=k.a.mark(_e),Ee=k.a.mark(Le),he=k.a.mark(He),ge=k.a.mark(Re),we=k.a.mark(Me),xe=k.a.mark(Ge),Oe=k.a.mark(We),je=k.a.mark(qe),ye=k.a.mark(Fe),ke=k.a.mark(Ye),Se=k.a.mark(Ke),Ce=k.a.mark(Je),Te=k.a.mark(Qe),Ne=function(e){return{type:pe,posts:e}},Pe=function(e){return{type:me,post:e}},Be=function(e){return{type:oe,user:e}};function Ie(e){return new Date(e).getTime()}function De(){var e,t,a,n,r;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,V();case 2:if(!(e=c.sent)){c.next=14;break}return e.sort((function(e,t){return Ie(t.createdAt)-Ie(e.createdAt)})),c.next=7,Object(S.c)(Ne(e));case 7:return t=new Set,e.forEach((function(e){return t.add(e.userId)})),a=t.size,n=e.length,r=e[0].createdAt,c.next=14,Object(S.c)({type:Ae,data:{usersCount:a,postsCount:n,lastData:r}});case 14:case"end":return c.stop()}}),de)}function Ue(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I();case 3:if(!(e=t.sent)){t.next=9;break}return t.next=7,De();case 7:return t.next=9,Object(S.c)(Be(e));case 9:return t.next=11,Object(S.b)(1200);case 11:return t.next=13,Object(S.c)({type:se,loading:!1});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),U("load start data error : \n ".concat(t.t0.message));case 18:case"end":return t.stop()}}),fe,null,[[0,15]])}function ze(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(ae,Ue);case 2:case"end":return e.stop()}}),be)}function _e(e){var t,a,n;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.currentUser,a=e.bodytext,n={userId:t.id,text:a,createdAt:new Date,likes:0,dislikes:0},r.next=5,X(n);case 5:if(!r.sent){r.next=9;break}return r.next=9,De();case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),U("Create post error : \n ".concat(r.t0.message));case 14:case"end":return r.stop()}}),ve,null,[[0,11]])}function Le(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)("CREATE_NEW_POST",_e);case 2:case"end":return e.stop()}}),Ee)}function He(e){var t;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.id,a.next=4,ee(t);case 4:if(!a.sent){a.next=8;break}return a.next=8,De();case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),U("Delete post error : \n ".concat(a.t0.message));case 13:case"end":return a.stop()}}),he,null,[[0,10]])}function Re(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)("DELETE_POST_POST",He);case 2:case"end":return e.stop()}}),ge)}function Me(e){var t,a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.id,n.next=4,Z(t);case 4:if(!(a=n.sent)){n.next=8;break}return n.next=8,Object(S.c)(Pe(a));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),U("Write post error : \n ".concat(n.t0.message));case 13:case"end":return n.stop()}}),we,null,[[0,10]])}function Ge(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(ne,Me);case 2:case"end":return e.stop()}}),xe)}function We(e){var t,a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.edited,a=e.callback,n.next=4,$(t);case 4:if(!n.sent){n.next=13;break}return n.next=8,Object(S.c)(Pe(null));case 8:return n.next=10,De();case 10:a(!0),n.next=14;break;case 13:a(!1);case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),U("Write post error : \n ".concat(n.t0.message));case 19:case"end":return n.stop()}}),Oe,null,[[0,16]])}function qe(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)("WRITE_POST_POST",We);case 2:case"end":return e.stop()}}),je)}function Fe(e){var t,a,n,r,c,u,s;return k.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.id,a=e.userId,n=e.posts,o.next=4,te({postId:t,userId:a,isLike:!0});case 4:return r=o.sent,c=r.newLike,u=r.newDislake,s=n.map((function(e){var a=e;return a.id===t&&(a.likes=Number(a.likes)+c,a.dislikes=Number(a.dislikes)+u),a})),o.next=10,Object(S.c)(Ne(s));case 10:o.next=15;break;case 12:o.prev=12,o.t0=o.catch(0),U("Write post error : \n ".concat(o.t0.message));case 15:case"end":return o.stop()}}),ye,null,[[0,12]])}function Ye(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(re,Fe);case 2:case"end":return e.stop()}}),ke)}function Ke(e){var t,a,n,r,c,u,s;return k.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.id,a=e.userId,n=e.posts,o.next=4,te({postId:t,userId:a,isLike:!1});case 4:return r=o.sent,c=r.newLike,u=r.newDislake,s=n.map((function(e){var a=e;return a.id===t&&(a.likes=Number(a.likes)+c,a.dislikes=Number(a.dislikes)+u),a})),o.next=10,Object(S.c)(Ne(s));case 10:o.next=15;break;case 12:o.prev=12,o.t0=o.catch(0),U("Write post error : \n ".concat(o.t0.message));case 15:case"end":return o.stop()}}),Se,null,[[0,12]])}function Je(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(ce,Ke);case 2:case"end":return e.stop()}}),Ce)}function Qe(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)([ze(),Le(),Re(),Ge(),qe(),Ye(),Je()]);case 2:case"end":return e.stop()}}),Te)}var Ve="USER_USER_LOGIN",Xe="USER_REGIS_LOGIN",Ze="USER_USER_LOGOUT",$e="USER_EDIT_EDIT",et="USER_DELETE",tt="USER_WRITES",at="USER_PROFILE",nt="USER_LOAD_LOAD",rt="USER_CREATE_NEW",ct="USER_CANCEL_EDIT",ut=k.a.mark(Pt),st=k.a.mark(Bt),ot=k.a.mark(It),it=k.a.mark(Dt),lt=k.a.mark(Ut),At=k.a.mark(zt),pt=k.a.mark(_t),mt=k.a.mark(Lt),dt=k.a.mark(Ht),ft=k.a.mark(Rt),bt=k.a.mark(Mt),vt=k.a.mark(Gt),Et=k.a.mark(Wt),ht=k.a.mark(qt),gt=k.a.mark(Ft),wt=k.a.mark(Yt),xt=k.a.mark(Kt),Ot=k.a.mark(Jt),jt=k.a.mark(Qt),yt=k.a.mark(Vt),kt=k.a.mark(Xt),St=k.a.mark(Zt),Ct=function(e){return{type:oe,user:e}},Tt=function(e){return{type:le,user:e}},Nt=function(e){return{type:ue,users:e}};function Pt(e){var t,a,n,r,c;return k.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,t=e.username,a=e.password,n=e.callback,u.next=4,Object(S.b)(1e3);case 4:return u.next=6,q({username:t,password:a});case 6:if(r=u.sent,!(c=r.user)){u.next=17;break}return u.next=11,De();case 11:return u.next=13,Object(S.c)(Ct(c));case 13:D(c),n(!0),u.next=18;break;case 17:n(!1);case 18:u.next=23;break;case 20:u.prev=20,u.t0=u.catch(0),U("User Login error : \n ".concat(u.t0.message));case 23:case"end":return u.stop()}}),ut,null,[[0,20]])}function Bt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(Ve,Pt);case 2:case"end":return e.stop()}}),st)}function It(e){var t,a,n,r,c,u,s;return k.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.username,a=e.password,n=e.email,r=e.callback,o.next=4,Object(S.b)(1e3);case 4:return o.next=6,F({username:t,password:a,email:n,admin:!1});case 6:if(c=o.sent,u=c.user,s=c.message,!u){o.next=18;break}return o.next=12,De();case 12:return o.next=14,Object(S.c)(Ct(u));case 14:D(u),r(""),o.next=19;break;case 18:r(s);case 19:o.next=24;break;case 21:o.prev=21,o.t0=o.catch(0),U("User Registr error : \n ".concat(o.t0.message));case 24:case"end":return o.stop()}}),ot,null,[[0,21]])}function Dt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(Xe,It);case 2:case"end":return e.stop()}}),it)}function Ut(e){var t,a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.id,n.next=4,J(t);case 4:if(!(a=n.sent)){n.next=8;break}return n.next=8,Object(S.c)(Tt(a));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),U("Select user error : \n ".concat(n.t0.message));case 13:case"end":return n.stop()}}),lt,null,[[0,10]])}function zt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)($e,Ut);case 2:case"end":return e.stop()}}),At)}function _t(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y();case 2:if(!(e=t.sent)){t.next=6;break}return t.next=6,Object(S.c)(Nt(e));case 6:case"end":return t.stop()}}),pt)}function Lt(e){var t;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.id,a.next=4,Q(t);case 4:if(!a.sent){a.next=8;break}return a.next=8,_t();case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),U("Select user error : \n ".concat(a.t0.message));case 13:case"end":return a.stop()}}),mt,null,[[0,10]])}function Ht(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(et,Lt);case 2:case"end":return e.stop()}}),dt)}function Rt(e){var t;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(t=e.user).id){a.next=9;break}return a.next=5,K(t);case 5:if(!a.sent){a.next=9;break}return a.next=9,_t();case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),U("Select user error : \n ".concat(a.t0.message));case 14:case"end":return a.stop()}}),ft,null,[[0,11]])}function Mt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(tt,Rt);case 2:case"end":return e.stop()}}),bt)}function Gt(e){var t,a,n,r;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,t=e.user,a=e.callback,t.id&&""!==t.id){c.next=8;break}return c.next=5,F(t);case 5:n=c.sent,c.next=11;break;case 8:return c.next=10,K(t.id,t);case 10:n=c.sent;case 11:if((r=n.message)&&""!==r){c.next=21;break}return c.next=15,Object(S.c)(Tt(null));case 15:return c.next=17,_t();case 17:return c.next=19,a("");case 19:c.next=23;break;case 21:return c.next=23,a(r);case 23:c.next=28;break;case 25:c.prev=25,c.t0=c.catch(0),U("Select user error : \n ".concat(c.t0.message));case 28:case"end":return c.stop()}}),vt,null,[[0,25]])}function Wt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(at,Gt);case 2:case"end":return e.stop()}}),Et)}function qt(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y();case 3:if(!(e=t.sent)){t.next=7;break}return t.next=7,Object(S.c)(Nt(e));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),U("Select user error : \n ".concat(t.t0.message));case 12:case"end":return t.stop()}}),ht,null,[[0,9]])}function Ft(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(nt,qt);case 2:case"end":return e.stop()}}),gt)}function Yt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.clear(),e.next=3,Object(S.c)({type:ie});case 3:case"end":return e.stop()}}),wt)}function Kt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(Ze,Yt);case 2:case"end":return e.stop()}}),xt)}function Jt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)(Tt({}));case 2:case"end":return e.stop()}}),Ot)}function Qt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(rt,Jt);case 2:case"end":return e.stop()}}),jt)}function Vt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)(Tt(null));case 2:case"end":return e.stop()}}),yt)}function Xt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(ct,Vt);case 2:case"end":return e.stop()}}),kt)}function Zt(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)([Bt(),Dt(),zt(),Ht(),Mt(),Wt(),Ft(),Kt(),Qt(),Xt()]);case 2:case"end":return e.stop()}}),St)}var $t=k.a.mark(ea);function ea(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)([Qe(),Zt()]);case 2:case"end":return e.stop()}}),$t)}var ta={modalWnd:!1},aa=Object(j.a)();!function(){try{var e=window.sessionStorage.getItem("app_state");e&&aa.push(e)}catch(t){}}();var na=Object(O.a)(),ra=[Object(x.a)(aa),na],ca=Object(w.d)(w.a.apply(void 0,ra)),ua={posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(g.a)(Object(g.a)({},e),{},{posts:t.posts});case me:return Object(g.a)(Object(g.a)({},e),{},{editedPost:t.post});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(g.a)(Object(g.a)({},e),{},{users:t.users});case se:return Object(g.a)(Object(g.a)({},e),{},{isLoading:t.loading});case oe:return Object(g.a)(Object(g.a)({},e),{},{currentUser:t.user,isAuthorized:!0});case ie:return Object(g.a)(Object(g.a)({},e),{},{currentUser:null,isAuthorized:!1});case le:return Object(g.a)(Object(g.a)({},e),{},{editedUser:t.user});case Ae:return Object(g.a)(Object(g.a)({},e),{},{statistic:t.data});default:return e}},modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;return t.type,e}},sa=Object(w.c)(Object(g.a)({router:Object(i.b)(aa)},ua)),oa=Object(w.e)(sa,{},ca);oa.subscribe((function(){!function(e){try{var t=e.router.location.pathname;window.sessionStorage.setItem("app_state",t)}catch(a){}}(oa.getState())}));var ia=function(e){return oa.dispatch(e)};na.run(ea);a(254);var la=function(){return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"logotip"},c.a.createElement("img",{className:"logo",src:"https://garryfirst-cripto.github.io/resurses/pictures/server-header.jpg",alt:"Virtual chat"})),c.a.createElement("div",{className:"header-text"},c.a.createElement("span",{className:"cap-letter"},"O"),"ur virtual chat"),c.a.createElement("div",{className:"logotip"},c.a.createElement("div",{className:"simb-logo"},"G"),c.a.createElement("div",{className:"info_info"},c.a.createElement("span",{className:"cap-letter"},"V"),"irtual Chat",c.a.createElement("br",null),"by Garry Levin.")))},Aa=function(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("span",{style:{fontSize:"30px",fontWeight:800}},"".concat(String.fromCharCode(169)," ","\xa0")),c.a.createElement("span",{className:"cap-letter"},"P"),"owered by Garry Levin")},pa=a(24),ma=a(465),da=a(460),fa=function(){return c.a.createElement(ma.a,{active:!0,inverted:!0},c.a.createElement(da.a,{size:"massive",inverted:!0}))},ba=a(41),va=a(216),Ea=a(467),ha=a(62),ga=a(450),wa=function(e){return e.avatar?e.avatar:"https://forwardsummit.ca/wp-content/uploads/2019/01/avatar-default.png"},xa=function(){var e=Object(z.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G({endpoint:"/users/image",type:"POST",attachment:t});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Oa=(a(345),Object(o.c)((function(e){return{currentUser:e.users.currentUser}}))((function(e){var t,a=e.currentUser,n=e.logOut;return c.a.createElement("div",{className:"sidepanel leftpanel"},c.a.createElement("div",{style:{margin:"10px",marginTop:"50px"}},c.a.createElement(va.a,{circular:!0,src:wa(a)})),c.a.createElement("div",{className:"panel-text"},a.username),c.a.createElement(ba.a,{exact:!0,to:"/allposts"},c.a.createElement(Ea.a,{className:"panel-navi",style:{marginTop:"15px"}},c.a.createElement(ha.a,{name:"film",size:"large"})," ","Posts List")),a.admin&&c.a.createElement(ba.a,{exact:!0,to:"/allusers"},c.a.createElement(Ea.a,{className:"panel-navi",style:{marginTop:"15px"}},c.a.createElement(ha.a,{name:"address card o",size:"large"})," ","Users List")),c.a.createElement(ba.a,{exact:!0,to:"/profile"},c.a.createElement(Ea.a,{className:"panel-navi",style:{marginTop:"15px"}},c.a.createElement(ha.a,{name:"user circle",size:"large"})," ","User profile")),c.a.createElement(ga.a,{type:"button",color:"blue",style:{marginTop:"25px"},onClick:n},c.a.createElement(ha.a,{name:"log out",size:"large"}),"Log Out"),c.a.createElement("div",{className:"panel-text"},"Today"," ",(t=new Date,new Date(t).toLocaleDateString())))}))),ja=a(55),ya=a.n(ja),ka=Object(o.c)((function(e){return{statistic:e.users.statistic}}))((function(e){var t,a=e.statistic;return a?c.a.createElement("div",{className:"sidepanel rightpanel"},c.a.createElement("div",{className:"panel-text"},"On our website :",c.a.createElement("br",null),c.a.createElement("br",null)," ",a.usersCount," ","users"," ",c.a.createElement("br",null),a.postsCount," ","posts.",c.a.createElement("br",null),c.a.createElement("br",null)," ","Last post :"," ",(t=a.lastData,new Date(t).toLocaleDateString())," ",c.a.createElement("br",null),c.a.createElement("div",{style:{fontSize:"18px"}},"("," ",ya()(a.lastData).fromNow()," ",")"))):null})),Sa=a(111),Ca=a(469),Ta=a(466),Na=function(){return c.a.createElement(Ea.a,{as:"h2",className:"login-logo"},c.a.createElement(va.a,{circular:!0,src:"https://media.lpgenerator.ru/images/540751/robot4-320.png"})," ","Chat Emulation")},Pa=a(13),Ba=a(462),Ia=a(468),Da=function(){ia({type:ae})},Ua=function(e){ia(function(e){return{type:ne,id:e}}(e))},za=function(e,t,a){ia(function(e,t,a){return{type:Ve,username:e,password:t,callback:a}}(e,t,a))},_a=function(){aa.push("/login"),ia({type:Ze})},La=function(e,t,a,n){ia(function(e,t,a,n){return{type:Xe,username:e,password:t,email:a,callback:n}}(e,t,a,n))},Ha=function(e){ia(function(e){return{type:$e,id:e}}(e))},Ra=function(e){ia(function(e){return{type:et,id:e}}(e))},Ma=function(e,t){ia(function(e,t){return{type:at,user:e,callback:t}}(e,t))},Ga=function(){ia({type:nt})},Wa=function(){ia({type:rt})},qa=function(){ia({type:ct})},Fa=function(e,t){var a=oa.getState().posts.posts;ia(function(e,t,a){return{type:re,id:e,userId:t,posts:a}}(e,t,a))},Ya=function(e,t){var a=oa.getState().posts.posts;ia(function(e,t,a){return{type:ce,id:e,userId:t,posts:a}}(e,t,a))},Ka=function(){var e=Object(r.useState)(P()),t=Object(Pa.a)(e,2),a=t[0],n=t[1],u=Object(r.useState)(""),s=Object(Pa.a)(u,2),o=s[0],i=s[1],l=Object(r.useState)(!1),A=Object(Pa.a)(l,2),p=A[0],m=A[1],d=Object(r.useState)(!0),f=Object(Pa.a)(d,2),b=f[0],v=f[1],E=Object(r.useState)(!0),g=Object(Pa.a)(E,2),w=g[0],x=g[1],O=function(e){!1===e&&h("Invalid user name or password !"),m(!1)};return c.a.createElement(Ba.a,{name:"loginForm",size:"large",onSubmit:function(){var e=b&&w;e&&!p?(m(!0),za(a,o,O)):e||h("You must enter the correct data !")}},c.a.createElement(Ia.a,null,c.a.createElement(Ba.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"User Name",type:"text",value:a,error:!b,onChange:function(e){return t=e.target.value,n(t),v(!0),void B(t);var t},onBlur:function(){return v(Boolean(a))}}),c.a.createElement(Ba.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",error:!w,onChange:function(e){return t=e.target.value,i(t),void x(!0);var t},onBlur:function(){return x(Boolean(o))}}),c.a.createElement(ga.a,{type:"submit",color:"teal",fluid:!0,size:"large",loading:p,primary:!0,onClick:function(){v(Boolean(a)),x(Boolean(o))}},"Login")))},Ja=(a(373),function(e){var t=e.authorized,a=Object(Sa.a)(e,["authorized"]);return c.a.createElement(pa.b,null,c.a.createElement(Ca.a,{textAlign:"center",verticalAlign:"middle",className:"login-form"},c.a.createElement(Ca.a.Column,{style:{maxWidth:450}},c.a.createElement(Na,null),c.a.createElement("div",{style:{minHeight:"1px"}}),c.a.createElement(Ea.a,{as:"h2",className:"login-header"},"Login to your account"),c.a.createElement(Ka,null),c.a.createElement(Ta.a,{style:{display:"flex",justifyContent:"space-around"}},"New to us?"," ",c.a.createElement(ba.a,{exact:!0,to:"/registration"},"Sign Up")))),c.a.createElement(pa.b,Object.assign({},a,{render:function(e){return t?c.a.createElement(pa.a,{to:{pathname:"/allposts",state:{from:e.location}}}):null}})))});Ja.defaultProps={authorized:!1,location:void 0};var Qa=Object(o.c)((function(e){return{authorized:e.users.isAuthorized}}))(Ja),Va=a(45),Xa=a.n(Va),Za=function(){var e=Object(r.useState)(""),t=Object(Pa.a)(e,2),a=t[0],n=t[1],u=Object(r.useState)(""),s=Object(Pa.a)(u,2),o=s[0],i=s[1],l=Object(r.useState)(P()),A=Object(Pa.a)(l,2),p=A[0],m=A[1],d=Object(r.useState)(!1),f=Object(Pa.a)(d,2),b=f[0],v=f[1],E=Object(r.useState)(!0),g=Object(Pa.a)(E,2),w=g[0],x=g[1],O=Object(r.useState)(!0),j=Object(Pa.a)(O,2),y=j[0],k=j[1],S=Object(r.useState)(!0),C=Object(Pa.a)(S,2),T=C[0],N=C[1],I=function(e){""!==e&&h(e),v(!1)};return c.a.createElement(Ba.a,{name:"registrationForm",size:"large",onSubmit:function(){var e=y&&T;e&&!b?(v(!0),La(p,o,a,I)):e||h("You must enter the correct data !")}},c.a.createElement(Ia.a,null,c.a.createElement(Ba.a.Input,{fluid:!0,icon:"envelope outline",iconPosition:"left",placeholder:"Email",type:"email",value:a,error:!w,onChange:function(e){return t=e.target.value,n(t),void x(!0);var t},onBlur:function(){return x(a&&Xa.a.isEmail(a))}}),c.a.createElement(Ba.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username",type:"text",value:p,error:!y,onChange:function(e){return t=e.target.value,m(t),k(!0),void B(t);var t},onBlur:function(){return k(Boolean(p))}}),c.a.createElement(Ba.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:function(e){return t=e.target.value,i(t),void N(!0);var t},error:!T,onBlur:function(){return N(Xa.a.isLength(o,{min:5}))}}),c.a.createElement(ga.a,{type:"submit",color:"teal",fluid:!0,size:"large",loading:b,primary:!0,onClick:function(){k(Boolean(p)),x(a&&Xa.a.isEmail(a)),N(Boolean(o))}},"Register")))},$a=function(e){var t=e.authorized,a=Object(Sa.a)(e,["authorized"]);return c.a.createElement(pa.b,null,c.a.createElement(Ca.a,{textAlign:"center",verticalAlign:"middle",className:"login-form"},c.a.createElement(Ca.a.Column,{style:{maxWidth:450}},c.a.createElement(Na,null),c.a.createElement("div",{style:{minHeight:"1px"}}),c.a.createElement(Ea.a,{as:"h2",className:"login-header"},"Register for free account"),c.a.createElement(Za,null),c.a.createElement(Ta.a,{style:{display:"flex",justifyContent:"space-around"}},"Alredy with us?"," ",c.a.createElement(ba.a,{exact:!0,to:"/login"},"Sign In")))),c.a.createElement(pa.b,Object.assign({},a,{render:function(e){return t?c.a.createElement(pa.a,{to:{pathname:"/postsPg",state:{from:e.location}}}):null}})))};$a.defaultProps={authorized:!1,location:void 0};var en=Object(o.c)((function(e){return{authorized:e.users.isAuthorized}}))($a),tn=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){var t=e.props,a=t.label;(0,t.onClick)(a)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.onClick,t=this.props,a=t.activeTab,n=t.label,r="tab-list-item";return a===n&&(r+=" tab-list-active"),c.a.createElement("div",{className:r,onClick:e},n)}}]),a}(r.Component),an=(a(447),function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(A.a)(this,a),(n=t.call(this,e)).onClickTabItem=function(e){n.setState({activeTab:e}),sessionStorage.setItem("tabb",e)};var r=sessionStorage.getItem("tabb");return n.state={activeTab:r||n.props.children[0].props.label},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.onClickTabItem,t=this.props.children,a=this.state.activeTab;return c.a.createElement("div",{className:"tabs"},c.a.createElement("ol",{className:"tab-list"},t.map((function(t){var n=t.props.label;return c.a.createElement(tn,{activeTab:a,key:n,label:n,onClick:e})}))),c.a.createElement("div",{className:"tab-content"},t.map((function(e){if(e.props.label===a)return e.props.children}))))}}]),a}(r.Component)),nn=a(83),rn=a(464),cn=a(39),un=a.n(cn),sn="Your can`t like or dislike own comment ....",on=function(e,t,a,n){var r=e.id,u=e.text,s=e.updatedAt,o=e.createdAt,i=e.userId,l=e.username,A=e.status,p=e.likes,m=e.dislikes;function d(e){h("Do yor want to DELETE this comment ?",!0,(function(t){t===b&&function(e){ia(function(e){return{type:"DELETE_POST_POST",id:e}}(e))}(e)}))}return c.a.createElement(rn.a,{style:{margin:"10px",border:"1px solid black",borderRadius:"5px",padding:"5px",backgroundColor:i===t.id?"#a3d3ab":"white"}},c.a.createElement(va.a,{className:un.a.postImage,src:wa(e),style:{position:"relative",float:"left",width:"50px",height:"50px"},alt:"image"}),c.a.createElement("div",{style:{position:"relative",float:"left",fontSize:"20px",marginLeft:"10px"}},l,c.a.createElement("br",null),A?" ( ".concat(A," ) "):void 0,c.a.createElement("br",null),ya()(o).fromNow(),s?" ( edit : ".concat(ya()(s).fromNow()," )"):void 0),c.a.createElement("div",{style:{clear:"both"}}),c.a.createElement("div",{style:{margin:"12px",padding:"10px",fontSize:"24px",backgroundColor:"#ddd"}},function(e){var t=[];return e.split(C).forEach((function(e,a,n){t.push(e),a<n.length-1&&t.push(c.a.createElement("br",null))})),t}(u)),c.a.createElement("div",null,i===t.id?[c.a.createElement(nn.a,{basic:!0,size:"small",as:"a",className:un.a.toolbarBtn,onClick:function(){return h(sn)}},c.a.createElement(ha.a,{name:"thumbs up"}),p),c.a.createElement(nn.a,{basic:!0,size:"small",as:"a",className:un.a.toolbarBtn,onClick:function(){return h(sn)}},c.a.createElement(ha.a,{name:"thumbs down"}),m),c.a.createElement(nn.a,{basic:!0,size:"small",as:"a",className:un.a.toolbarBtn,onClick:function(){return Ua(r)}},c.a.createElement(ha.a,{name:"edit"}),"Edit"),c.a.createElement(nn.a,{basic:!0,size:"small",as:"a",className:un.a.toolbarBtn,onClick:function(){return d(r)}},c.a.createElement(ha.a,{name:"trash"}),"Delete")]:[c.a.createElement(nn.a,{basic:!0,size:"small",as:"a",className:un.a.toolbarBtn,onClick:function(){return a(r,t.id)}},c.a.createElement(ha.a,{name:"thumbs up"}),p),c.a.createElement(nn.a,{basic:!0,size:"small",as:"a",className:un.a.toolbarBtn,onClick:function(){return n(r,t.id)}},c.a.createElement(ha.a,{name:"thumbs down"}),m)]))},ln=function(e){var t=e.currentUser,a=Object(r.useState)(!1),n=Object(Pa.a)(a,2),u=n[0],s=n[1],o=Object(r.useState)(""),i=Object(Pa.a)(o,2),l=i[0],A=i[1];return c.a.createElement(Ia.a,null,c.a.createElement(Ba.a,{onSubmit:function(){l&&(s(!0),function(e,t){ia(function(e,t){return{type:"CREATE_NEW_POST",currentUser:e,bodytext:t}}(e,t))}(t,l),s(!1),A(""))}},c.a.createElement(Ba.a.TextArea,{name:"body",value:l,placeholder:"Add your own post ...",onChange:function(e){return A(e.target.value)}}),c.a.createElement(ga.a,{primary:!0,size:"large",floated:"right",color:"blue",type:"submit",loading:u},c.a.createElement(ha.a,{name:"edit"}),"Add Post")))},An=ln;ln.defaultProps={currentUser:{}};var pn=function(e){var t=e.comment,a=Object(r.useState)(t.text),n=Object(Pa.a)(a,2),u=n[0],s=n[1],o=Object(r.useState)(!1),i=Object(Pa.a)(o,2),l=i[0],A=i[1];function p(e){!1===e&&h("Error writing post !"),A(!1)}function m(){A(!0);var e=t.id;ia(function(e,t){return{type:"WRITE_POST_POST",edited:e,callback:t}}({id:e,text:u},p))}var d=document.getElementById("commbody");return d&&setTimeout((function(){return d.focus()}),10),c.a.createElement(Ba.a,{name:"loginForm",size:"large",onSubmit:m},c.a.createElement(Ia.a,null,c.a.createElement(Ba.a,{onSubmit:m},c.a.createElement(Ba.a.TextArea,{id:"commbody",rows:"6",name:"body",value:u,placeholder:"What is the news?",onChange:function(e){s(e.target.value)}}),c.a.createElement(ga.a,{loading:l,floated:"right",color:"blue",type:"submit"},c.a.createElement(ha.a,{name:"edit"}),"Save Post"))))};a(448);function mn(e){return new Date(e).toLocaleDateString()}var dn=function(e){var t=e.posts,a=e.currentUser,n=e.editedPost,r=[],u=[],s=[],o="";return t.forEach((function(e){mn(e.createdAt)!==o&&(s.length>0&&(r.push(s),u.push(o)),o=mn(e.createdAt),s=[]),s.push(on(e,a,Fa,Ya))})),r.push(s),u.push(o),c.a.createElement("div",{className:"postpage"},n&&c.a.createElement(pn,{comment:n}),!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(An,{currentUser:a})),c.a.createElement(an,null,r.map((function(e,t){return c.a.createElement("div",{label:u[t]},e)})))))},fn=function(e){var t=e.posts,a=e.currentUser,n=e.editedPost;return t?dn({posts:t,currentUser:a,editedPost:n}):null};dn.defaultProps={currentUser:{},posts:[],editedPost:void 0},fn.defaultProps={currentUser:{},posts:[],editedPost:void 0};var bn=Object(o.c)((function(e){return{posts:e.posts.posts,currentUser:e.users.currentUser,editedPost:e.posts.editedPost}}))(fn),vn=function(e){var t=e.user,a=e.current,n=t.id,r=t.username,u=t.status,s=t.editedAt,o=t.createdAt;return c.a.createElement(rn.a,{style:{margin:"10px",border:"1px solid black",borderRadius:"5px",padding:"5px",fontSize:"18px",backgroundColor:n===a.id?"#a3d3ab":"white"}},c.a.createElement(va.a,{className:un.a.postImage,src:wa(t),style:{position:"relative",float:"left",width:"50px",height:"50px"},alt:"image"}),c.a.createElement("div",{style:{position:"relative",float:"left",fontSize:"20px",marginLeft:"10px"}},r),c.a.createElement("div",{style:{clear:"both",marginLeft:"50px"}},u?" ( ".concat(u," )"):void 0),c.a.createElement("div",{style:{marginLeft:"50px",marginBottom:"10px"}},"Created :"," ",ya()(o).fromNow(),s?"Edited : ( edit : ".concat(ya()(o).fromNow()," )"):void 0),c.a.createElement("div",{style:{marginLeft:"50px"}}),c.a.createElement("div",null,n===a.id?[c.a.createElement(nn.a,{basic:!0,size:"small",as:"a",className:un.a.toolbarBtn,onClick:function(){return Ha(n)}},c.a.createElement(ha.a,{name:"edit"}),"Edit")]:[c.a.createElement(nn.a,{basic:!0,size:"small",as:"a",className:un.a.toolbarBtn,onClick:function(){return Ha(n)}},c.a.createElement(ha.a,{name:"edit"}),"Edit"),c.a.createElement(nn.a,{basic:!0,size:"small",as:"a",className:un.a.toolbarBtn,onClick:function(){return e=n,void h("Do yor want to DELETE this comment ?",!0,(function(t){t===b&&Ra(e)}));var e}},c.a.createElement(ha.a,{name:"trash"}),"Delete")]))},En=a(461),hn=a(40),gn=a.n(hn),wn=function(e){var t=e.edited,a=Object(r.useState)(t?t.username:""),n=Object(Pa.a)(a,2),u=n[0],s=n[1],o=Object(r.useState)(t?t.avatar:""),i=Object(Pa.a)(o,2),l=i[0],A=i[1],p=Object(r.useState)(!1),m=Object(Pa.a)(p,2),d=m[0],f=m[1],v=Object(r.useState)(!1),E=Object(Pa.a)(v,2),g=E[0],w=E[1],x=Object(r.useState)(t?t.email:""),O=Object(Pa.a)(x,2),j=O[0],y=O[1],S=Object(r.useState)(""),C=Object(Pa.a)(S,2),T=C[0],N=C[1],P=Object(r.useState)(t?t.status:""),B=Object(Pa.a)(P,2),I=B[0],D=B[1],U=Object(r.useState)({viewMode:"password",iconName:"unhide"}),_=Object(Pa.a)(U,2),L=_[0],H=_[1],R=Object(r.useState)(!1),M=Object(Pa.a)(R,2),G=M[0],W=M[1],q=Object(r.useState)(!0),F=Object(Pa.a)(q,2),Y=F[0],K=F[1],J=Object(r.useState)(!0),Q=Object(Pa.a)(J,2),V=Q[0],X=Q[1],Z=Object(r.useState)(!0),$=Object(Pa.a)(Z,2),ee=$[0],te=$[1],ae=function(e){e&&""!==e&&h(e),W(!1)};function ne(){var e=Y&&V&&ee;if(e&&!G){W(!0);var a=t.id,n=t.password,r=t.admin,c={id:a,username:u,password:n,admin:r,status:I,avatar:l};""!==T&&(c.password=T),Ma(c,ae)}else e||h("You must enter the correct data !")}function re(e,t){var a=""!==e;return a||h("ERROR ! Field ".concat(t," will not by empty !")),a}function ce(e){e===b&&ne()}var ue=function(){var e=Object(z.a)(k.a.mark((function e(t){var a,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,f(!0),e.prev=2,e.next=5,xa(a.files[0]);case 5:n=e.sent,r=n.link,A(r),w(!0);case 9:return e.prev=9,f(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[2,,9,12]])})));return function(t){return e.apply(this,arguments)}}();function se(e){e===b&&(w(!1),qa())}return c.a.createElement(pa.b,null,(function(e){return t?null:c.a.createElement(pa.a,{to:{pathname:"/login",state:{from:e.location}}})}),c.a.createElement(Ca.a,{container:!0,textAlign:"center",style:{paddingTop:"30",backgroundColor:"white"}},c.a.createElement(Ca.a.Column,null,c.a.createElement(va.a,{centered:!0,src:l,size:"medium",circular:!0}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ga.a,{color:"violet",icon:!0,labelPosition:"left",as:"label",loading:d,disabled:d},c.a.createElement(ha.a,{name:"image"}),"Select Avatar",c.a.createElement("input",{name:"image",type:"file",onChange:ue,hidden:!0})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(En.a,{className:gn.a.profInput,icon:"user",iconPosition:"left",placeholder:"Username",type:"text",value:u,error:!V,onChange:function(e){s(e.target.value),w(!0)},onBlur:function(){return X(Boolean(u))}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(En.a,{className:gn.a.profInput,icon:"envelope outline",iconPosition:"left",placeholder:"Email",type:"email",value:j,error:!Y,onChange:function(e){y(e.target.value),w(!0)},onBlur:function(){return K(j&&Xa.a.isEmail(j))}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(En.a,{className:gn.a.profPass,icon:"privacy",iconPosition:"left",placeholder:"Set new password",type:L.viewMode,value:T,error:!ee,onChange:function(e){N(e.target.value),w(!0)},onBlur:function(){return te(!T||Xa.a.isLength(T,{min:5}))}}),c.a.createElement(ga.a,{className:gn.a.profButton,onClick:function(){"password"===L.viewMode?H({viewMode:"text",iconName:"hide"}):H({viewMode:"password",iconName:"unhide"})}},c.a.createElement(ha.a,{name:L.iconName})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(En.a,{className:gn.a.profInput,icon:"flag checkered",iconPosition:"left",placeholder:"Status",type:"text",value:I,onChange:function(e){D(e.target.value),w(!0)}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ga.a,{color:"green",onClick:function(){!0===(re(u,"username")&&re(j,"E-mail")&&function(e){var t=!e;return t||h("ATTENTION ! Your password will be changed !",!0,ce),t}(T))&&ne()},loading:G},c.a.createElement(ha.a,{name:"edit"}),"Save user profile"),c.a.createElement(ga.a,{color:"green",onClick:function(e){g?(h("Profile changes not saved! Exit anyway ?",!0,se),e.preventDefault()):qa()},loading:G,style:{backgroundColor:"red"}},c.a.createElement(ha.a,{name:"cancel"}),"Cancel"),c.a.createElement("br",null),c.a.createElement("br",null))))};wn.defaultProps={edited:{},location:void 0};var xn=Object(o.c)((function(e){return{edited:e.users.editedUser}}))(wn),On=function(e){var t=e.users,a=e.currentUser,n=e.editedUser;return 0===t.length&&Ga(),t.length>0?n?c.a.createElement(xn,{edited:n}):c.a.createElement("div",{className:"postpage"},c.a.createElement("div",null,c.a.createElement(ga.a,{type:"button",color:"blue",style:{marginTop:"25px",marginLeft:"10px"},onClick:Wa},c.a.createElement(ha.a,{name:"address book o",size:"large"}),"Create New User")),c.a.createElement("div",null,t.map((function(e){return c.a.createElement(vn,{user:e,current:a})})))):c.a.createElement(fa,null)};On.defaultProps={currentUser:{},users:[],editedUser:void 0};var jn=Object(o.c)((function(e){return{users:e.users.users,currentUser:e.users.currentUser,editedUser:e.users.editedUser}}))(On),yn=function(e){var t=e.currentUser,a=Object(r.useState)(t?t.username:""),n=Object(Pa.a)(a,2),u=n[0],s=n[1],o=Object(r.useState)(t?t.avatar:""),i=Object(Pa.a)(o,2),l=i[0],A=i[1],p=Object(r.useState)(!1),m=Object(Pa.a)(p,2),d=m[0],f=m[1],v=Object(r.useState)(t?t.email:""),E=Object(Pa.a)(v,2),g=E[0],w=E[1],x=Object(r.useState)(""),O=Object(Pa.a)(x,2),j=O[0],y=O[1],S=Object(r.useState)(t?t.status:""),C=Object(Pa.a)(S,2),T=C[0],N=C[1],P=Object(r.useState)({viewMode:"password",iconName:"unhide"}),B=Object(Pa.a)(P,2),I=B[0],U=B[1],_=Object(r.useState)(!1),L=Object(Pa.a)(_,2),H=L[0],R=L[1],M=Object(r.useState)(!0),G=Object(Pa.a)(M,2),W=G[0],q=G[1],F=Object(r.useState)(!0),Y=Object(Pa.a)(F,2),K=Y[0],J=Y[1],Q=Object(r.useState)(!0),V=Object(Pa.a)(Q,2),X=V[0],Z=V[1],$=function(){R(!1)};function ee(){var e=W&&K&&X;if(e&&!H){R(!0);var a=t.id,n=t.password,r=t.admin,c={id:a,username:u,password:n,admin:r,status:T,avatar:l,email:g};D(c),""!==j&&(c.password=j),Ma(c,$),za(u,n,$)}else e||h("You must enter the correct data !")}var te=function(){var e=Object(z.a)(k.a.mark((function e(t){var a,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,f(!0),e.prev=2,e.next=5,xa(a.files[0]);case 5:n=e.sent,r=n.link,A(r);case 9:return e.prev=9,f(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[2,,9,12]])})));return function(t){return e.apply(this,arguments)}}();function ae(e,t){var a=""!==e;return a||h("ERROR ! Field ".concat(t," will not by empty !")),a}function ne(e){e===b&&ee()}return c.a.createElement(pa.b,null,(function(e){return t?null:c.a.createElement(pa.a,{to:{pathname:"/login",state:{from:e.location}}})}),c.a.createElement(Ca.a,{container:!0,textAlign:"center",style:{paddingTop:"30",backgroundColor:"white"}},c.a.createElement(Ca.a.Column,null,c.a.createElement(va.a,{centered:!0,src:l,size:"medium",circular:!0}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ga.a,{color:"violet",icon:!0,labelPosition:"left",as:"label",loading:d},c.a.createElement(ha.a,{name:"image"}),"Select Avatar",c.a.createElement("input",{name:"image",type:"file",onChange:te,hidden:!0})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(En.a,{className:gn.a.profInput,icon:"at",iconPosition:"left",placeholder:"User Avatar Link",type:"text",value:l,error:!K,onChange:function(e){A(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(En.a,{className:gn.a.profInput,icon:"user",iconPosition:"left",placeholder:"Username",type:"text",value:u,error:!K,onChange:function(e){s(e.target.value)},onBlur:function(){return J(Boolean(u))}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(En.a,{className:gn.a.profInput,icon:"envelope outline",iconPosition:"left",placeholder:"Email",type:"email",value:g,error:!W,onChange:function(e){w(e.target.value)},onBlur:function(){return q(g&&Xa.a.isEmail(g))}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(En.a,{className:gn.a.profPass,icon:"privacy",iconPosition:"left",placeholder:"Set new password",type:I.viewMode,value:j,error:!X,onChange:function(e){y(e.target.value)},onBlur:function(){return Z(!j||Xa.a.isLength(j,{min:5}))}}),c.a.createElement(ga.a,{className:gn.a.profButton,onClick:function(){"password"===I.viewMode?U({viewMode:"text",iconName:"hide"}):U({viewMode:"password",iconName:"unhide"})}},c.a.createElement(ha.a,{name:I.iconName})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(En.a,{className:gn.a.profInput,icon:"flag checkered",iconPosition:"left",placeholder:"Status",type:"text",value:T,onChange:function(e){N(e.target.value)}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(ga.a,{color:"green",onClick:function(){!0===(ae(u,"username")&&ae(g,"E-mail")&&function(e){var t=!e;return t||h("ATTENTION ! Your password will be changed !",!0,ne),t}(j))&&ee()},loading:H},c.a.createElement(ha.a,{name:"edit"}),"Save user profile"),c.a.createElement("br",null),c.a.createElement("br",null))))};yn.defaultProps={currentUser:{},location:void 0};var kn=Object(o.c)((function(e){return{currentUser:e.users.currentUser}}))(yn),Sn=function(){return aa.push("/login"),null},Cn=function(e){var t=e.currentUser,a=e.isAuthorized,n=e.isLoading,r=e.islogOff;return n&&Da(),n?c.a.createElement(fa,null):c.a.createElement("div",{className:"content"},a&&c.a.createElement("header",null,c.a.createElement(pa.b,null,c.a.createElement(Oa,{currentUser:t,logOut:_a}),c.a.createElement(ka,{currentUser:t}))),!r&&c.a.createElement(pa.d,null,c.a.createElement(Qa,{exact:!0,path:"/login",authorized:a}),c.a.createElement(en,{exact:!0,path:"/registration",authorized:a}),c.a.createElement(bn,{exact:!0,path:"/allposts"}),c.a.createElement(jn,{exact:!0,path:"/allusers"}),c.a.createElement(kn,{exact:!0,path:"/profile",currentUser:t}),c.a.createElement(pa.b,{path:"*",exact:!0,component:Sn,autorized:a})))};Cn.defaultProps={isAuthorized:!1,currentUser:{},isLoading:!0,islogOff:!1};var Tn=Object(o.c)((function(e){var t=e.users;return{isAuthorized:t.isAuthorized,currentUser:t.currenUser,isLoading:t.isLoading,islogOff:t.isLogOff}}))(Cn),Nn=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{store:oa},c.a.createElement(la,null),c.a.createElement(i.a,{history:aa},c.a.createElement(Tn,null)),c.a.createElement(Aa,null),c.a.createElement(l.a,null),c.a.createElement(E,null)))};Object(u.render)(c.a.createElement(Nn,null),document.getElementById("root"))}},[[449,1,2]]]);
//# sourceMappingURL=main.162164af.chunk.js.map